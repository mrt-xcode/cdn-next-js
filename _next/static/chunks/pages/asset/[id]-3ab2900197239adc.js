(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9543],{66999:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/asset/[id]",function(){return t(37270)}])},37270:function(e,a,t){"use strict";t.r(a);var n=t(85893),i=t(7780),s=t(49053),r=t(71230),l=t(15746),d=t(17360),c=t(71577),o=t(19301),u=t(41664),h=t.n(u),g=t(11163),p=t(67294),m=t(17594),y=t(23404);let{Text:_}=i.Z,{TabPane:f}=s.Z,x=()=>{let[e,a]=(0,p.useState)(""),[t,i]=(0,p.useState)(""),[u,x]=(0,p.useState)(""),[b,k]=(0,p.useState)(""),[S,I]=(0,p.useState)(""),[w,j]=(0,p.useState)(""),[v,N]=(0,p.useState)(""),[Z,D]=(0,p.useState)(""),[B,C]=(0,p.useState)(""),[O,P]=(0,p.useState)(""),[A,E]=(0,p.useState)(""),[F,T]=(0,p.useState)(""),[U,M]=(0,p.useState)(""),[R,J]=(0,p.useState)(""),[K,q]=(0,p.useState)(""),[z,H]=(0,p.useState)(""),[L,X]=(0,p.useState)(""),[G,V]=(0,p.useState)(""),[W,Y]=(0,p.useState)(""),[Q,$]=(0,p.useState)(""),[ee,ea]=(0,p.useState)(""),[et,en]=(0,p.useState)(""),[ei,es]=(0,p.useState)(""),[er,el]=(0,p.useState)(""),[ed,ec]=(0,p.useState)(""),[eo,eu]=(0,p.useState)(!1),[eh,eg]=(0,p.useState)(!1),[ep,em]=(0,p.useState)(""),[ey,e_]=(0,p.useState)(""),[ef,ex]=(0,p.useState)(),[eb,ek]=(0,p.useState)(!1),[eS,eI]=(0,p.useState)(!1),[ew,ej]=(0,p.useState)([]),[ev,eN]=(0,p.useState)(""),[eZ,eD]=(0,p.useState)(""),[eB,eC]=(0,p.useState)(""),[eO,eP]=(0,p.useState)(""),[eA,eE]=(0,p.useState)(""),[eF,eT]=(0,p.useState)(""),[eU,eM]=(0,p.useState)(!1),[eR,eJ]=(0,p.useState)([]),[eK,eq]=(0,p.useState)(!1),[ez,eH]=(0,p.useState)({induk_barang:"",description:"",jumlah:"",code_activa_id:"",asset_type_id:""});(0,p.useEffect)(()=>{eG()},[]);let eL=(0,g.useRouter)(),eX=eL.query.id,eG=async()=>{await y.Z.get("api/asset/"+eX).then(e=>{a(e.data.no_induk_barang),k(e.data.old_number),i(e.data.tag_number),I(e.data.name),x(e.data.no_barang?e.data.no_barang:""),j(e.data.branch?e.data.branch.name:""),N(e.data.asset_category?e.data.asset_category.name:""),P(e.data.location?e.data.location.name:""),C(e.data.flag?e.data.flag:""),D(e.data.status?e.data.status.name:""),T(e.data.vendor?e.data.vendor.name:""),ec(e.data.asset_type?e.data.asset_type.name:""),es(e.data.code_activa?e.data.code_activa.name:""),el(e.data.ownership?e.data.ownership.name:""),M(e.data.qr_code_url),E(e.data.status_activa?e.data.status_activa:""),J(e.data.value?e.data.value:""),q(e.data.anggaran?e.data.anggaran.name:""),H(e.data.masa_manfaat?e.data.masa_manfaat:""),X(e.data.uselife?e.data.uselife:""),V(e.data.remark?e.data.remark:""),Y(e.data.model?e.data.model:""),$(e.data.serial_number?e.data.serial_number:""),ea(e.data.part_number?e.data.part_number:""),en(e.data.year?e.data.year:""),eN(e.data.merek_barang?e.data.merek_barang:""),eD(e.data.tgl_perolehan?e.data.tgl_perolehan:""),eC(e.data.currency_perolehan?e.data.currency_perolehan:""),eP(e.data.currency?e.data.currency:""),eE(e.data.payment_voucher?e.data.payment_voucher:""),eH({...ez,induk_barang:e.data.no_barang}),eW(e.data.id),eY(e.data.id),eV(e.data.id)}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,m.lt)(e.response.statusText,e.response.data.message),eL.push("/asset")})},eV=async()=>{eq(!0),await y.Z.get("api/asset/history/"+eX).then(e=>{eJ(e.data)}).finally(()=>{eq(!1)})},eW=async e=>{await y.Z.get("api/images/"+e).then(e=>{let a=e.data;a.map(e=>{!0===e.isOrigin?(em(e.ext+e.file),eu(!0)):(e_(e.ext+e.file),eg(!0))})})},eY=async e=>{ek(!0),await y.Z.get("api/file-attachments/"+e).then(e=>{let a=e.data;ex(a),ek(!1)})},eQ=async(e,a)=>{e.preventDefault(),await (0,y.Z)({method:"GET",url:"api/detail-file-attachment/"+a.id}).then(e=>{e$(e.data,e)}).catch(e=>{})},e$=async e=>{await fetch(e.type+e.file).then(e=>e.blob()).then(a=>{var t=URL.createObjectURL(a),n=document.getElementById("blob");n.href=t,n.download=e.name_file,n.click(),n.href=""})};return(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(m.HU,{secondTitle:" Information"}),(0,n.jsx)(l.Z,{span:24,children:(0,n.jsxs)(d.Z,{cover:(0,n.jsx)(l.Z,{span:24,style:{backgroundColor:"#1890ff",paddingTop:"5px"}}),children:[(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(l.Z,{span:22,children:(0,n.jsx)(m.Xl,{title:S})}),(0,n.jsx)(l.Z,{span:2,children:(0,n.jsx)(c.ZP,{type:"primary",onClick:()=>eL.push("/asset"),style:{float:"right"},children:"Back"})})]}),(0,n.jsx)(r.Z,{gutter:4,style:{flex:1},children:(0,n.jsxs)(s.Z,{style:{width:"100%"},defaultActiveKey:"1",children:[(0,n.jsx)(f,{tab:"Data",children:(0,n.jsx)(m.GE,{noInduk:e,tagNumber:t,noBarang:u,oldNumber:b,name:S,branch:w,location:O,assetCategory:v,flag:B,status:Z,uselife:L,remark:G,model:W,masaManfaat:z,serialNumber:Q,partNumber:ee,anggaran:K,statusActiva:A,value:R,year:et,vendor:F,qrCodeUrl:U,codeActiva:ei,ownership:er,assetType:ed,merk:ev,tglPerolehan:eZ,currencyPerolehan:eB,hargaPerolehan:eO,paymentVoucher:eA,isDisposal:eU,disposalDescription:eF})},"1"),(0,n.jsx)(f,{tab:"Photos",children:(0,n.jsx)(r.Z,{children:(0,n.jsx)(m.K0,{image:eo,imageUrl:ep,isImageDua:eh,imageUrlDua:ey})})},"2"),(0,n.jsx)(f,{tab:"Attachments",children:(0,n.jsx)(m.wK,{columns:[{title:"Name",key:"name",dataIndex:"name",width:250},{title:"File Name",width:450,key:"name_file",render:e=>"application/pdf"==e.mime?(0,n.jsx)(h(),{href:"file-attachments/"+JSON.stringify(e.id),style:{color:"#0000FF"},children:e.name_file}):(0,n.jsx)("a",{onClick:a=>eQ(a,e),href:"file-attachments/"+JSON.stringify(e.id),style:{color:"#0000FF"},children:e.name_file})},{title:"Description",dataIndex:"description",key:"description"}],columnsDisposal:[{title:"File Name",width:450,key:"name_file",render:e=>"application/pdf"==e.mime?(0,n.jsx)(h(),{href:"file-attachments/"+JSON.stringify(e.id),children:e.name_file}):(0,n.jsx)("a",{onClick:a=>eQ(a,e),href:"file-attachments/"+JSON.stringify(e.id),children:e.name_file})},{title:"Description",dataIndex:"description",key:"description"}],loading:eb,loadingDisposal:eS,data:ef,dataDisposal:ew})},"3"),(0,n.jsx)(f,{tab:"History",children:(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(r.Z,{style:{float:"right"},children:(0,n.jsx)(l.Z,{span:24,children:(0,n.jsxs)("h4",{style:{marginBottom:"14px"},children:[(0,n.jsx)(_,{style:{fontSize:16,color:"rgba(250, 5, 5, 0.5)",fontWeight:"bold"},children:"■"}),(0,n.jsx)(_,{children:"Before"}),"  ",(0,n.jsx)(_,{style:{fontSize:16,color:"rgba(95, 185, 5, 0.5)",fontWeight:"bold"},children:"■"}),(0,n.jsx)(_,{children:"After"})]})})}),(0,n.jsx)(o.Z,{columns:[{title:"Barcode",dataIndex:"tag_number",key:"tag_number",width:100,align:"center",ellipsis:!0},{title:"No Induk Barang",dataIndex:"no_induk_barang",width:150,key:"no_induk_barang",align:"center",ellipsis:!0},{title:"AMS NO",dataIndex:"no_barang",width:100,key:"no_barang",align:"center",ellipsis:!0},{title:"REINS NO",dataIndex:"old_number",width:100,key:"old_number",align:"center",ellipsis:!0},{title:"Name",key:"name",width:400,align:"center",dataIndex:"name",ellipsis:!0},{title:"Branch",key:"branch",align:"center",dataIndex:"branch",ellipsis:!0},{title:"Departement",align:"center",width:200,key:"vendor",dataIndex:"vendor",ellipsis:!0},{title:"Ownership",key:"ownership",align:"center",dataIndex:"ownership",ellipsis:!0},{title:"Code Activa",key:"code_activa",align:"center",width:200,dataIndex:"code_activa",ellipsis:!0},{title:"Location",align:"center",width:200,key:"location",dataIndex:"location",ellipsis:!0},{title:"Tanggal Perolehan",dataIndex:"tgl_perolehan",key:"tgl_perolehan",align:"center",ellipsis:!0},{title:"Jenis Barang",key:"asset_type",align:"center",dataIndex:"asset_type",ellipsis:!0},{title:"Payment Voucher",key:"payment_voucher",align:"center",dataIndex:"payment_voucher",ellipsis:!0},{title:"Merek Barang",key:"merek_barang",align:"center",dataIndex:"merek_barang",ellipsis:!0},{title:"Model",key:"model",align:"center",dataIndex:"model",ellipsis:!0},{title:"Harga Perolehan",key:"harga_perolehan",align:"center",dataIndex:"harga_perolehan",ellipsis:!0,render:(e,a)=>"IDR"==a.currency_perolehan?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)},{title:"Currency Perolehan",dataIndex:"currency_perolehan",key:"currency_perolehan",align:"center",ellipsis:!0},{title:"Serial Number",key:"serial_number",align:"center",dataIndex:"serial_number",ellipsis:!0},{title:"Anggaran Asset",key:"anggaran",align:"center",dataIndex:"anggaran",ellipsis:!0},{title:"Masa Manfaat (Year)",dataIndex:"masa_manfaat",key:"masa_manfaat",align:"center",ellipsis:!0},{title:"Flag",dataIndex:"flag",key:"flag",align:"center",ellipsis:!0},{title:"Status Activa",key:"status_activa",dataIndex:"status_activa",align:"center",ellipsis:!0},{title:"Updated By",dataIndex:"updated_by",key:"updated_by",align:"center",ellipsis:!0},{title:"Kondisi Barang",key:"status",dataIndex:"status",fixed:"right",align:"center",width:150,ellipsis:!0,render:(e,a)=>({props:{style:{background:a.before?"#fc8282":"#afdc82"}},children:e})},{title:"Create Date",dataIndex:"date",key:"date",fixed:"right",width:100,ellipsis:!0,render:(e,a)=>({props:{style:{background:a.before?"#fc8282":"#afdc82"}},children:e})}],dataSource:eR,scroll:{x:4e3,y:500},size:"small",rowKey:"id",pagination:!1,loading:eK,rowClassName:(e,a)=>e.before?"bg-red":"bg-green",bordered:!0})]})},"4")]})})]})}),(0,n.jsx)("a",{id:"blob",style:{display:"none"}})]})};a.default=x}},function(e){e.O(0,[5431,7698,3062,1577,9329,8571,1003,26,2913,7780,6397,8508,5625,7091,5063,9301,8351,9774,2888,179],function(){return e(e.s=66999)}),_N_E=e.O()}]);
//# sourceMappingURL=[id]-3ab2900197239adc.js.map