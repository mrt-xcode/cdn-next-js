(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2718],{27363:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"}},13401:function(e,t,n){"use strict";var a=n(1413),r=n(97685),i=n(4942),o=n(91),s=n(67294),l=n(94184),c=n.n(l),d=n(63017),u=n(58784),p=n(59068),g=n(56736),m=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,p.U)("#1890ff");var y=s.forwardRef(function(e,t){var n,l=e.className,p=e.icon,y=e.spin,f=e.rotate,h=e.tabIndex,w=e.onClick,x=e.twoToneColor,v=(0,o.Z)(e,m),k=s.useContext(d.Z),b=k.prefixCls,C=void 0===b?"anticon":b,_=k.rootClassName,T=c()(_,C,(n={},(0,i.Z)(n,"".concat(C,"-").concat(p.name),!!p.name),(0,i.Z)(n,"".concat(C,"-spin"),!!y||"loading"===p.name),n),l),Z=h;void 0===Z&&w&&(Z=-1);var I=(0,g.H9)(x),A=(0,r.Z)(I,2),E=A[0],N=A[1];return s.createElement("span",(0,a.Z)((0,a.Z)({role:"img","aria-label":p.name},v),{},{ref:t,tabIndex:Z,onClick:w,className:T}),s.createElement(u.Z,{icon:p,primaryColor:E,secondaryColor:N,style:f?{msTransform:"rotate(".concat(f,"deg)"),transform:"rotate(".concat(f,"deg)")}:void 0}))});y.displayName="AntdIcon",y.getTwoToneColor=p.m,y.setTwoToneColor=p.U,t.Z=y},63017:function(e,t,n){"use strict";var a=(0,n(67294).createContext)({});t.Z=a},58784:function(e,t,n){"use strict";var a=n(91),r=n(1413),i=n(56736),o=["icon","className","onClick","style","primaryColor","secondaryColor"],s={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},l=function(e){var t=e.icon,n=e.className,l=e.onClick,c=e.style,d=e.primaryColor,u=e.secondaryColor,p=(0,a.Z)(e,o),g=s;if(d&&(g={primaryColor:d,secondaryColor:u||(0,i.pw)(d)}),(0,i.C3)(),(0,i.Kp)((0,i.r)(t),"icon should be icon definiton, but got ".concat(t)),!(0,i.r)(t))return null;var m=t;return m&&"function"==typeof m.icon&&(m=(0,r.Z)((0,r.Z)({},m),{},{icon:m.icon(g.primaryColor,g.secondaryColor)})),(0,i.R_)(m.icon,"svg-".concat(m.name),(0,r.Z)({className:n,onClick:l,style:c,"data-icon":m.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},p))};l.displayName="IconReact",l.getTwoToneColors=function(){return(0,r.Z)({},s)},l.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;s.primaryColor=t,s.secondaryColor=n||(0,i.pw)(t),s.calculated=!!n},t.Z=l},59068:function(e,t,n){"use strict";n.d(t,{U:function(){return o},m:function(){return s}});var a=n(97685),r=n(58784),i=n(56736);function o(e){var t=(0,i.H9)(e),n=(0,a.Z)(t,2),o=n[0],s=n[1];return r.Z.setTwoToneColors({primaryColor:o,secondaryColor:s})}function s(){var e=r.Z.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}},47389:function(e,t,n){"use strict";var a=n(1413),r=n(67294),i=n(27363),o=n(13401),s=function(e,t){return r.createElement(o.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:i.Z}))};s.displayName="EditOutlined",t.Z=r.forwardRef(s)},56736:function(e,t,n){"use strict";n.d(t,{R_:function(){return function e(t,n,r){return r?h.createElement(t.tag,(0,a.Z)((0,a.Z)({key:n},C(t.attrs)),r),(t.children||[]).map(function(a,r){return e(a,"".concat(n,"-").concat(t.tag,"-").concat(r))})):h.createElement(t.tag,(0,a.Z)({key:n},C(t.attrs)),(t.children||[]).map(function(a,r){return e(a,"".concat(n,"-").concat(t.tag,"-").concat(r))}))}},pw:function(){return _},r:function(){return b},H9:function(){return T},vD:function(){return Z},C3:function(){return I},Kp:function(){return k}});var a=n(1413),r=n(71002),i=n(86500),o=n(1350),s=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function l(e){var t=e.r,n=e.g,a=e.b,r=(0,i.py)(t,n,a);return{h:360*r.h,s:r.s,v:r.v}}function c(e){var t=e.r,n=e.g,a=e.b;return"#".concat((0,i.vq)(t,n,a,!1))}function d(e,t,n){var a;return(a=Math.round(e.h)>=60&&240>=Math.round(e.h)?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?a+=360:a>=360&&(a-=360),a}function u(e,t,n){var a;return 0===e.h&&0===e.s?e.s:((a=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(a=1),n&&5===t&&a>.1&&(a=.1),a<.06&&(a=.06),Number(a.toFixed(2)))}function p(e,t,n){var a;return(a=n?e.v+.05*t:e.v-.15*t)>1&&(a=1),Number(a.toFixed(2))}function g(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],a=(0,o.uA)(e),r=5;r>0;r-=1){var i=l(a),g=c((0,o.uA)({h:d(i,r,!0),s:u(i,r,!0),v:p(i,r,!0)}));n.push(g)}n.push(c(a));for(var m=1;m<=4;m+=1){var y=l(a),f=c((0,o.uA)({h:d(y,m),s:u(y,m),v:p(y,m)}));n.push(f)}return"dark"===t.theme?s.map(function(e){var a,r,i,s=e.index,l=e.opacity;return c((a=(0,o.uA)(t.backgroundColor||"#141414"),r=(0,o.uA)(n[s]),i=100*l/100,{r:(r.r-a.r)*i+a.r,g:(r.g-a.g)*i+a.g,b:(r.b-a.b)*i+a.b}))}):n}var m={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},y={},f={};Object.keys(m).forEach(function(e){y[e]=g(m[e]),y[e].primary=y[e][5],f[e]=g(m[e],{theme:"dark",backgroundColor:"#141414"}),f[e].primary=f[e][5]}),y.red,y.volcano,y.gold,y.orange,y.yellow,y.lime,y.green,y.cyan,y.blue,y.geekblue,y.purple,y.magenta,y.grey;var h=n(67294),w=n(80334),x=n(44958),v=n(63017);function k(e,t){(0,w.ZP)(e,"[@ant-design/icons] ".concat(t))}function b(e){return"object"===(0,r.Z)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,r.Z)(e.icon)||"function"==typeof e.icon)}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var a=e[n];return"class"===n?(t.className=a,delete t.class):t[n]=a,t},{})}function _(e){return g(e)[0]}function T(e){return e?Array.isArray(e)?e:[e]:[]}var Z={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",t=(0,h.useContext)(v.Z).csp;(0,h.useEffect)(function(){(0,x.hq)(e,"@ant-design-icons",{prepend:!0,csp:t})},[])}},21035:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/audit",function(){return n(76317)}])},44320:function(e,t,n){"use strict";n.d(t,{AD:function(){return E},HO:function(){return v},I7:function(){return x},Ko:function(){return A},L5:function(){return _},OD:function(){return C},OU:function(){return I},V2:function(){return c},XH:function(){return p},Yq:function(){return y},cF:function(){return d},fu:function(){return g},jP:function(){return u},jq:function(){return b},ps:function(){return k},sW:function(){return w},sx:function(){return h},vq:function(){return T}});var a=n(23404),r=n(84105),i=n(17594),o=n(64187);let{confirm:s}=o.Z,l=()=>{},c=async e=>{await (0,a.Z)({method:"GET",url:"api/sidebar"}).then(t=>{e(t.data)}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,i.lt)(e.response.statusText,e.response.data.message)})},d=async(e,t,n,r,o,s)=>{s(!0),await (0,a.Z)({method:t.id>0?"PUT":"POST",url:t.id>0?e+"/"+t.id:e,data:t}).then(e=>{o(),(0,i.tA)(e.data.status,e.data.message),r()}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,i.lt)(e.response.statusText,e.response.data.message),"errors"in e.response.data&&n(e.response.data.errors)}).finally(()=>{s(!1)})},u=async(e,t,n,r,o)=>{r(!0),await (0,a.Z)({method:t.id>0?"PUT":"POST",url:t.id>0?e+"/"+t.id:e,data:t}).then(e=>{(0,i.tA)(e.data.status,e.data.message),o.back()}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,i.lt)(e.response.statusText,e.response.data.message),"errors"in e.response.data&&n(e.response.data.errors)}).finally(()=>{r(!1)})},p=async(e,t,n,r,o,s,l)=>{await (0,a.Z)({method:t.id>0?"PUT":"POST",url:t.id>0?e+"/"+t.id:e,data:t}).then(e=>{o(!0),(0,i.tA)(e.data.status,e.data.message),s({}),n({}),r(!1)}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,i.lt)(e.response.statusText,e.response.data.message),"errors"in e.response.data&&n(e.response.data.errors)}).finally(()=>{l()})},g=(e,t,n)=>{l(s({title:"Do you want to delete these items?",content:"You can't undo this operation",onOk(){m(e,t,n)},onCancel(){}}))},m=async(e,t,n)=>{await a.Z.delete(t+"/"+e).then(e=>{(0,i.lt)(e.data.status,e.data.message)}).catch(e=>{let t="statusText"in e.response,n="message"in e.response.data;t&&n&&(0,i.lt)(e.response.statusText,e.response.data.message)}).finally(()=>{n()})},y=(e,t,n,a,r,i)=>{l(s({title:"Do you want to delete these items?",content:"You can't undo this operation",onOk(){f(e,t,n,a,r,i)},onCancel(){}}))},f=async(e,t,n,r,o,s)=>{await a.Z.delete(t+"/"+e).then(e=>{(0,i.lt)(e.data.status,e.data.message),r(!1),o(!0),s({})}).catch(e=>{let t="statusText"in e.response,n="message"in e.response.data;t&&n&&(0,i.lt)(e.response.statusText,e.response.data.message)}).finally(()=>{n()})},h=async function(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;e(!0),await (0,a.Z)({method:"GET",url:t,params:{page:n.current_page,keyword:n.keyword,per_page:n.pageSize,id:o}}).then(e=>{r(e.data.data),i(e.data.meta.total)}).catch(e=>{}).finally(()=>{e(!1)})},w=async(e,t)=>{await (0,a.Z)({method:"GET",url:e}).then(e=>{t(e.data)}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,i.lt)(e.response.statusText,e.response.data.message)})},x=async(e,t,n)=>{n(!1),await (0,a.Z)({method:"GET",url:e}).then(e=>{t(e.data)}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,i.lt)(e.response.statusText,e.response.data.message)}).finally(()=>{n(!0)})},v=(e,t,n)=>{n({...t,[e.target.id]:e.target.value})},k=async(e,t)=>{await (0,a.Z)({method:"get",url:"api/me"}).then(e=>{t(e.data)}).catch(t=>{401===t.response.status&&e.push("/login"),"statusText"in t.response&&"message"in t.response.data&&(0,i.lt)(t.response.statusText,t.response.data.message)})},b=async(e,t,n)=>{n(!0);let r=e.pathname.split("/"),i="/"+r[1]+"/"+r[2];await (0,a.Z)({method:"GET",url:"api/check-access",params:{path:"//undefined"!=i?i:"/"}}).then(e=>{t(e.data)}).catch(n=>{401===n.response.status&&e.push("/login"),t({viewAny:!1,view:!1,create:!1,update:!1,delete:!1})}).finally(()=>{n(!1)})},C=(e,t)=>{var n=new FileReader;n.onload=e=>{var n=e.target.result;n=new Uint8Array(n);var a=r.ij(n,{type:"array",cellText:!1,cellDates:!0}),i=r.P6.sheet_to_json(a.Sheets[a.SheetNames[0]],{header:1}).filter(e=>!!e[0]);i.splice(0,2),t(i)},n.readAsArrayBuffer(e)},_=async(e,t,n,r,o)=>{r(!0),await a.Z.post(e,{rows:t}).then(e=>{(0,i.tA)(e.data.status,e.data.message),n()}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,i.lt)(e.response.statusText,e.response.data.message),r(!1)}).finally(()=>{document.getElementById(o).value=""})},T=async(e,t)=>{await a.Z.get(e,{responseType:"blob"}).then(e=>{let n=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=n,a.setAttribute("download",t),document.body.appendChild(a),a.click(),a.remove()})},Z=e=>new Promise((t,n)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(a.result),a.onerror=e=>n(e)}),I=async(e,t,n)=>{await Z(e).then(t=>{let a=e.name,r="data:"+e.type+";base64,",i=t.replaceAll(r,""),o=e.type;n(a,r,i,o)}),document.getElementById(t).value=""},A=(e,t,n,a)=>{t(!0),Z(e).then(r=>{let i="data:"+e.type+";base64,",o=r.replaceAll(i,""),s=e.name;a(s,r,i,o),t(!1),document.getElementById(n).value=""})},E=async function(e,t,n,r,i,o,s,l){let c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;e(!0),await (0,a.Z)({method:"GET",url:t,params:{page:s+1,keyword:n.keyword,per_page:n.pageSize,id:c}}).then(e=>{let t=o.concat(e.data.data);r(t),i(e.data.meta.total),l(e.data.meta.current_page)}).catch(e=>{}).finally(()=>{e(!1)})}},76317:function(e,t,n){"use strict";n.r(t);var a=n(85893),r=n(47389),i=n(17594),o=n(44320),s=n(71577),l=n(41664),c=n.n(l),d=n(11163),u=n(67294);let p=()=>{let e=(0,d.useRouter)(),[t,n]=(0,u.useState)(0),[l,p]=(0,u.useState)(!1),[g,m]=(0,u.useState)([]),[y,f]=(0,u.useState)(!1),[h,w]=(0,u.useState)({viewAny:!0,view:!0,create:!0,update:!0,delete:!0}),[x,v]=(0,u.useState)({pageSize:15,current_page:1,keyword:""});(0,u.useEffect)(()=>{(0,o.jq)(e,w,f)},[]),(0,u.useEffect)(()=>{k()},[x]);let k=()=>{(0,o.sx)(p,"api/audit",x,m,n)},b=(e,t)=>{v({...x,pageSize:t,current_page:e})},C=t=>{e.push("/audit/edit/"+t)},_=()=>{v({pageSize:15,current_page:1,keyword:""}),k()};return y?(0,a.jsx)(i.Kg,{}):h.viewAny?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.HU,{}),(0,a.jsx)(i.Sx,{total:t,onShowSizeChange:b,data:g,columns:[{title:"Barcode",dataIndex:"tag_number",key:"tag_number",width:100,align:"center",ellipsis:!0},{title:"No Induk Barang",dataIndex:"no_induk_barang",width:150,key:"no_induk_barang",align:"center",ellipsis:!0},{title:"AMS NO",dataIndex:"no_barang",width:100,key:"no_barang",align:"center",ellipsis:!0},{title:"REINS NO",dataIndex:"old_number",width:100,key:"old_number",align:"center",ellipsis:!0},{title:"Name",key:"name",width:400,align:"center",ellipsis:!0,render:e=>(0,a.jsx)(c(),{style:{color:"#1890ff"},href:"asset/"+JSON.stringify(e.id),children:e.name})},{title:"Branch",key:"branch",align:"center",dataIndex:"branch",ellipsis:!0},{title:"Departement",align:"center",width:200,key:"vendor",dataIndex:"vendor",ellipsis:!0},{title:"Ownership",key:"ownership",align:"center",dataIndex:"ownership",ellipsis:!0},{title:"Code Activa",key:"code_activa",align:"center",width:200,dataIndex:"location",ellipsis:!0},{title:"Location",align:"center",width:200,key:"location",dataIndex:"location",ellipsis:!0},{title:"Tanggal Perolehan",dataIndex:"tgl_perolehan",key:"tgl_perolehan",align:"center",ellipsis:!0},{title:"Jenis Barang",key:"asset_type",align:"center",dataIndex:"asset_type",ellipsis:!0},{title:"Payment Voucher",key:"payment_voucher",align:"center",dataIndex:"payment_voucher",ellipsis:!0},{title:"Merek Barang",key:"merek_barang",align:"center",dataIndex:"merek_barang",ellipsis:!0},{title:"Model",key:"model",align:"center",dataIndex:"model",ellipsis:!0},{title:"Harga Perolehan",key:"harga_perolehan",align:"center",ellipsis:!0,width:125,render:e=>"IDR"==e.currency_perolehan?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(Number(e.harga_perolehan)):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(e.harga_perolehan))},{title:"Currency Perolehan",dataIndex:"currency_perolehan",key:"currency_perolehan",align:"center",ellipsis:!0},{title:"Serial Number",key:"serial_number",align:"center",dataIndex:"serial_number",ellipsis:!0},{title:"Anggaran Asset",key:"anggaran",align:"center",dataIndex:"anggaran",ellipsis:!0},{title:"Masa Manfaat (Year)",dataIndex:"masa_manfaat",key:"masa_manfaat",ellipsis:!0,align:"center",render:e=>null===e?"0":e},{title:"Flag",dataIndex:"flag",key:"flag",align:"center"},{title:"Status Activa",key:"status_activa",align:"center",dataIndex:"status_activa",ellipsis:!0},{title:"Remark",key:"remark",dataIndex:"remark",align:"center",width:200,ellipsis:!0},{title:"Kondisi Barang",key:"status",dataIndex:"status",fixed:"right",align:"center",width:150,ellipsis:!0},{title:"Action",key:"action",align:"center",fixed:"right",dataIndex:"id",width:100,render:e=>h.update?(0,a.jsx)(s.ZP,{style:{backgroundColor:"#1890ff",borderColor:"#1890ff",color:"#fff"},size:"small",icon:(0,a.jsx)(r.Z,{}),onClick:()=>C(e),children:"Audit"}):null}],scroll:{x:4e3,y:350},paginate:x,handleSearch:function(e){v({...x,[e.target.id]:e.target.value})},refresh:_,loading:l,accessPermission:h})]}):(0,a.jsx)(i.GH,{status:403})};t.default=p},20067:function(){},72061:function(){}},function(e){e.O(0,[2251,5431,1577,6447,4187,5063,9774,2888,179],function(){return e(e.s=21035)}),_N_E=e.O()}]);