(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5936],{92138:function(e,t,n){"use strict";n.r(t),n.d(t,{blue:function(){return T},cyan:function(){return b},geekblue:function(){return k},generate:function(){return d},gold:function(){return h},green:function(){return C},grey:function(){return E},lime:function(){return x},magenta:function(){return A},orange:function(){return v},presetDarkPalettes:function(){return m},presetPalettes:function(){return f},presetPrimaryColors:function(){return p},purple:function(){return Z},red:function(){return g},volcano:function(){return y},yellow:function(){return w}});var a=n(86500),r=n(1350),o=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function s(e){var t=e.r,n=e.g,r=e.b,o=(0,a.py)(t,n,r);return{h:360*o.h,s:o.s,v:o.v}}function i(e){var t=e.r,n=e.g,r=e.b;return"#".concat((0,a.vq)(t,n,r,!1))}function c(e,t,n){var a;return(a=Math.round(e.h)>=60&&240>=Math.round(e.h)?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?a+=360:a>=360&&(a-=360),a}function u(e,t,n){var a;return 0===e.h&&0===e.s?e.s:((a=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(a=1),n&&5===t&&a>.1&&(a=.1),a<.06&&(a=.06),Number(a.toFixed(2)))}function l(e,t,n){var a;return(a=n?e.v+.05*t:e.v-.15*t)>1&&(a=1),Number(a.toFixed(2))}function d(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],a=(0,r.uA)(e),d=5;d>0;d-=1){var p=s(a),f=i((0,r.uA)({h:c(p,d,!0),s:u(p,d,!0),v:l(p,d,!0)}));n.push(f)}n.push(i(a));for(var m=1;m<=4;m+=1){var g=s(a),y=i((0,r.uA)({h:c(g,m),s:u(g,m),v:l(g,m)}));n.push(y)}return"dark"===t.theme?o.map(function(e){var a,o,s,c=e.index,u=e.opacity;return i((a=(0,r.uA)(t.backgroundColor||"#141414"),o=(0,r.uA)(n[c]),s=100*u/100,{r:(o.r-a.r)*s+a.r,g:(o.g-a.g)*s+a.g,b:(o.b-a.b)*s+a.b}))}):n}var p={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},f={},m={};Object.keys(p).forEach(function(e){f[e]=d(p[e]),f[e].primary=f[e][5],m[e]=d(p[e],{theme:"dark",backgroundColor:"#141414"}),m[e].primary=m[e][5]});var g=f.red,y=f.volcano,h=f.gold,v=f.orange,w=f.yellow,x=f.lime,C=f.green,b=f.cyan,T=f.blue,k=f.geekblue,Z=f.purple,A=f.magenta,E=f.grey},42110:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"}},13401:function(e,t,n){"use strict";var a=n(1413),r=n(97685),o=n(4942),s=n(91),i=n(67294),c=n(94184),u=n.n(c),l=n(63017),d=n(58784),p=n(59068),f=n(41755),m=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,p.U)("#1890ff");var g=i.forwardRef(function(e,t){var n,c=e.className,p=e.icon,g=e.spin,y=e.rotate,h=e.tabIndex,v=e.onClick,w=e.twoToneColor,x=(0,s.Z)(e,m),C=i.useContext(l.Z),b=C.prefixCls,T=void 0===b?"anticon":b,k=C.rootClassName,Z=u()(k,T,(n={},(0,o.Z)(n,"".concat(T,"-").concat(p.name),!!p.name),(0,o.Z)(n,"".concat(T,"-spin"),!!g||"loading"===p.name),n),c),A=h;void 0===A&&v&&(A=-1);var E=(0,f.H9)(w),_=(0,r.Z)(E,2),N=_[0],S=_[1];return i.createElement("span",(0,a.Z)((0,a.Z)({role:"img","aria-label":p.name},x),{},{ref:t,tabIndex:A,onClick:v,className:Z}),i.createElement(d.Z,{icon:p,primaryColor:N,secondaryColor:S,style:y?{msTransform:"rotate(".concat(y,"deg)"),transform:"rotate(".concat(y,"deg)")}:void 0}))});g.displayName="AntdIcon",g.getTwoToneColor=p.m,g.setTwoToneColor=p.U,t.Z=g},63017:function(e,t,n){"use strict";var a=(0,n(67294).createContext)({});t.Z=a},58784:function(e,t,n){"use strict";var a=n(91),r=n(1413),o=n(41755),s=["icon","className","onClick","style","primaryColor","secondaryColor"],i={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},c=function(e){var t=e.icon,n=e.className,c=e.onClick,u=e.style,l=e.primaryColor,d=e.secondaryColor,p=(0,a.Z)(e,s),f=i;if(l&&(f={primaryColor:l,secondaryColor:d||(0,o.pw)(l)}),(0,o.C3)(),(0,o.Kp)((0,o.r)(t),"icon should be icon definiton, but got ".concat(t)),!(0,o.r)(t))return null;var m=t;return m&&"function"==typeof m.icon&&(m=(0,r.Z)((0,r.Z)({},m),{},{icon:m.icon(f.primaryColor,f.secondaryColor)})),(0,o.R_)(m.icon,"svg-".concat(m.name),(0,r.Z)({className:n,onClick:c,style:u,"data-icon":m.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},p))};c.displayName="IconReact",c.getTwoToneColors=function(){return(0,r.Z)({},i)},c.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;i.primaryColor=t,i.secondaryColor=n||(0,o.pw)(t),i.calculated=!!n},t.Z=c},59068:function(e,t,n){"use strict";n.d(t,{U:function(){return s},m:function(){return i}});var a=n(97685),r=n(58784),o=n(41755);function s(e){var t=(0,o.H9)(e),n=(0,a.Z)(t,2),s=n[0],i=n[1];return r.Z.setTwoToneColors({primaryColor:s,secondaryColor:i})}function i(){var e=r.Z.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}},51042:function(e,t,n){"use strict";var a=n(1413),r=n(67294),o=n(42110),s=n(13401),i=function(e,t){return r.createElement(s.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:o.Z}))};i.displayName="PlusOutlined",t.Z=r.forwardRef(i)},41755:function(e,t,n){"use strict";n.d(t,{C3:function(){return y},H9:function(){return m},Kp:function(){return l},R_:function(){return function e(t,n,r){return r?s.createElement(t.tag,(0,a.Z)((0,a.Z)({key:n},p(t.attrs)),r),(t.children||[]).map(function(a,r){return e(a,"".concat(n,"-").concat(t.tag,"-").concat(r))})):s.createElement(t.tag,(0,a.Z)({key:n},p(t.attrs)),(t.children||[]).map(function(a,r){return e(a,"".concat(n,"-").concat(t.tag,"-").concat(r))}))}},pw:function(){return f},r:function(){return d},vD:function(){return g}});var a=n(1413),r=n(71002),o=n(92138),s=n(67294),i=n(80334),c=n(44958),u=n(63017);function l(e,t){(0,i.ZP)(e,"[@ant-design/icons] ".concat(t))}function d(e){return"object"===(0,r.Z)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,r.Z)(e.icon)||"function"==typeof e.icon)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var a=e[n];return"class"===n?(t.className=a,delete t.class):t[n]=a,t},{})}function f(e){return(0,o.generate)(e)[0]}function m(e){return e?Array.isArray(e)?e:[e]:[]}var g={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",t=(0,s.useContext)(u.Z).csp;(0,s.useEffect)(function(){(0,c.hq)(e,"@ant-design-icons",{prepend:!0,csp:t})},[])}},27042:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/master/user",function(){return n(21645)}])},44320:function(e,t,n){"use strict";n.d(t,{AD:function(){return N},HO:function(){return x},I7:function(){return w},Ko:function(){return _},L5:function(){return k},OD:function(){return T},OU:function(){return E},V2:function(){return u},XH:function(){return p},Yq:function(){return g},cF:function(){return l},fu:function(){return f},jP:function(){return d},jq:function(){return b},ps:function(){return C},sW:function(){return v},sx:function(){return h},vq:function(){return Z}});var a=n(23404),r=n(84105),o=n(17594),s=n(64187);let{confirm:i}=s.Z,c=()=>{},u=async e=>{await (0,a.Z)({method:"GET",url:"api/sidebar"}).then(t=>{e(t.data)}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,o.lt)(e.response.statusText,e.response.data.message)})},l=async(e,t,n,r,s,i)=>{i(!0),await (0,a.Z)({method:t.id>0?"PUT":"POST",url:t.id>0?e+"/"+t.id:e,data:t}).then(e=>{s(),(0,o.tA)(e.data.status,e.data.message),r()}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,o.lt)(e.response.statusText,e.response.data.message),"errors"in e.response.data&&n(e.response.data.errors)}).finally(()=>{i(!1)})},d=async(e,t,n,r,s)=>{r(!0),await (0,a.Z)({method:t.id>0?"PUT":"POST",url:t.id>0?e+"/"+t.id:e,data:t}).then(e=>{(0,o.tA)(e.data.status,e.data.message),s.back()}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,o.lt)(e.response.statusText,e.response.data.message),"errors"in e.response.data&&n(e.response.data.errors)}).finally(()=>{r(!1)})},p=async(e,t,n,r,s,i,c)=>{await (0,a.Z)({method:t.id>0?"PUT":"POST",url:t.id>0?e+"/"+t.id:e,data:t}).then(e=>{s(!0),(0,o.tA)(e.data.status,e.data.message),i({}),n({}),r(!1)}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,o.lt)(e.response.statusText,e.response.data.message),"errors"in e.response.data&&n(e.response.data.errors)}).finally(()=>{c()})},f=(e,t,n)=>{c(i({title:"Do you want to delete these items?",content:"You can't undo this operation",onOk(){m(e,t,n)},onCancel(){}}))},m=async(e,t,n)=>{await a.Z.delete(t+"/"+e).then(e=>{(0,o.lt)(e.data.status,e.data.message)}).catch(e=>{let t="statusText"in e.response,n="message"in e.response.data;t&&n&&(0,o.lt)(e.response.statusText,e.response.data.message)}).finally(()=>{n()})},g=(e,t,n,a,r,o)=>{c(i({title:"Do you want to delete these items?",content:"You can't undo this operation",onOk(){y(e,t,n,a,r,o)},onCancel(){}}))},y=async(e,t,n,r,s,i)=>{await a.Z.delete(t+"/"+e).then(e=>{(0,o.lt)(e.data.status,e.data.message),r(!1),s(!0),i({})}).catch(e=>{let t="statusText"in e.response,n="message"in e.response.data;t&&n&&(0,o.lt)(e.response.statusText,e.response.data.message)}).finally(()=>{n()})},h=async function(e,t,n,r,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;e(!0),await (0,a.Z)({method:"GET",url:t,params:{page:n.current_page,keyword:n.keyword,per_page:n.pageSize,id:s}}).then(e=>{r(e.data.data),o(e.data.meta.total)}).catch(e=>{}).finally(()=>{e(!1)})},v=async(e,t)=>{await (0,a.Z)({method:"GET",url:e}).then(e=>{t(e.data)}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,o.lt)(e.response.statusText,e.response.data.message)})},w=async(e,t,n)=>{n(!1),await (0,a.Z)({method:"GET",url:e}).then(e=>{t(e.data)}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,o.lt)(e.response.statusText,e.response.data.message)}).finally(()=>{n(!0)})},x=(e,t,n)=>{n({...t,[e.target.id]:e.target.value})},C=async(e,t)=>{await (0,a.Z)({method:"get",url:"api/me"}).then(e=>{t(e.data)}).catch(t=>{401===t.response.status&&e.push("/login"),"statusText"in t.response&&"message"in t.response.data&&(0,o.lt)(t.response.statusText,t.response.data.message)})},b=async(e,t,n)=>{n(!0);let r=e.pathname.split("/"),o="/"+r[1]+"/"+r[2];await (0,a.Z)({method:"GET",url:"api/check-access",params:{path:"//undefined"!=o?o:"/"}}).then(e=>{t(e.data)}).catch(n=>{401===n.response.status&&e.push("/login"),t({viewAny:!1,view:!1,create:!1,update:!1,delete:!1})}).finally(()=>{n(!1)})},T=(e,t)=>{var n=new FileReader;n.onload=e=>{var n=e.target.result;n=new Uint8Array(n);var a=(0,r.ij)(n,{type:"array",cellText:!1,cellDates:!0}),o=r.P6.sheet_to_json(a.Sheets[a.SheetNames[0]],{header:1}).filter(e=>!!e[0]);o.splice(0,2),t(o)},n.readAsArrayBuffer(e)},k=async(e,t,n,r,s)=>{r(!0),await a.Z.post(e,{rows:t}).then(e=>{(0,o.tA)(e.data.status,e.data.message),n()}).catch(e=>{"statusText"in e.response&&"message"in e.response.data&&(0,o.lt)(e.response.statusText,e.response.data.message),r(!1)}).finally(()=>{document.getElementById(s).value=""})},Z=async(e,t)=>{await a.Z.get(e,{responseType:"blob"}).then(e=>{let n=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=n,a.setAttribute("download",t),document.body.appendChild(a),a.click(),a.remove()})},A=e=>new Promise((t,n)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(a.result),a.onerror=e=>n(e)}),E=async(e,t,n)=>{await A(e).then(t=>{let a=e.name,r="data:"+e.type+";base64,",o=t.replaceAll(r,""),s=e.type;n(a,r,o,s)}),document.getElementById(t).value=""},_=(e,t,n,a)=>{t(!0),A(e).then(r=>{let o="data:"+e.type+";base64,",s=r.replaceAll(o,""),i=e.name;a(i,r,o,s),t(!1),document.getElementById(n).value=""})},N=async function(e,t,n,r,o,s,i,c){let u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;e(!0),await (0,a.Z)({method:"GET",url:t,params:{page:i+1,keyword:n.keyword,per_page:n.pageSize,id:u}}).then(e=>{let t=s.concat(e.data.data);r(t),o(e.data.meta.total),c(e.data.meta.current_page)}).catch(e=>{}).finally(()=>{e(!1)})}},21645:function(e,t,n){"use strict";n.r(t);var a=n(85893),r=n(51042),o=n(17594),s=n(44320),i=n(7780),c=n(11163),u=n(67294),l=n(41664),d=n.n(l);let{Text:p}=i.Z,f=()=>{let e=(0,c.useRouter)(),[t,n]=(0,u.useState)(0),[i,l]=(0,u.useState)(!1),[f,m]=(0,u.useState)([]),[g,y]=(0,u.useState)(!1),[h,v]=(0,u.useState)({viewAny:!0,view:!0,create:!0,update:!0,delete:!0}),[w,x]=(0,u.useState)({pageSize:15,current_page:1,keyword:""}),C=t=>{e.push("/master/user/add")},b=e=>{(0,s.fu)(e,"api/master/user",E)},T=t=>{e.push("/master/user/edit/"+t)},k=(e,t)=>{x({...w,pageSize:t,current_page:e})},Z=[{key:"1",label:(0,a.jsxs)("div",{onClick:C,children:[(0,a.jsx)(r.Z,{})," Add"]})}],A=()=>{x({pageSize:15,current_page:1,keyword:""}),E()};(0,u.useEffect)(()=>{(0,s.jq)(e,v,y)},[]),(0,u.useEffect)(()=>{E()},[w]);let E=()=>{(0,s.sx)(l,"api/master/user",w,m,n)};return g?(0,a.jsx)(o.Kg,{}):h.viewAny?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.HU,{}),(0,a.jsx)(o.Sx,{total:t,onShowSizeChange:k,data:f,columns:[{title:"Name",key:"name",align:"center",ellipsis:!0,render:e=>h.view?(0,a.jsx)(d(),{style:{color:"#1890ff"},href:"/master/user/"+JSON.stringify(e.id),children:e.name}):(0,a.jsx)(p,{children:e.name})},{title:"Email",dataIndex:"email",key:"email",ellipsis:!0},{title:"Role",dataIndex:"role_name",key:"role_name",ellipsis:!0},{title:"Action",key:"action",align:"center",fixed:"right",dataIndex:"id",width:100,render:e=>h.update||h.delete?(0,a.jsx)(o.RP,{items:[{action:()=>T(e),icon:"edit",name:"Edit",access:h.update},{action:()=>b(e),icon:"delete",name:"Hapus",access:h.delete}]}):null}],items:Z,scroll:{y:350},paginate:w,handleSearch:function(e){x({...w,[e.target.id]:e.target.value})},refresh:A,loading:i,accessPermission:h})]}):(0,a.jsx)(o.GH,{status:403})};t.default=f},20067:function(){},72061:function(){}},function(e){e.O(0,[2251,5431,7698,3062,1577,6447,4187,26,2913,7780,5063,9774,2888,179],function(){return e(e.s=27042)}),_N_E=e.O()}]);
//# sourceMappingURL=user-3dfc789912a3d682.js.map